(function(t){function e(e){for(var a,n,s=e[0],u=e[1],i=e[2],d=0,p=[];d<s.length;d++)n=s[d],Object.prototype.hasOwnProperty.call(c,n)&&c[n]&&p.push(c[n][0]),c[n]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(t[a]=u[a]);m&&m(e);while(p.length)p.shift()();return r.push.apply(r,i||[]),o()}function o(){for(var t,e=0;e<r.length;e++){for(var o=r[e],a=!0,n=1;n<o.length;n++){var s=o[n];0!==c[s]&&(a=!1)}a&&(r.splice(e--,1),t=u(u.s=o[0]))}return t}var a={},n={app:0},c={app:0},r=[];function s(t){return u.p+"js/"+({}[t]||t)+"."+{"chunk-0bb2fd9a":"cf36c09e","chunk-7e6ed214":"f1d62b21","chunk-7e6f3902":"68ca587d","chunk-96de9d18":"eb87541d","chunk-26b8e59a":"2ba44037","chunk-2d22216c":"b78461b5","chunk-3b588d92":"03beefd6","chunk-5c3661cf":"92ed5c07","chunk-7497b3d3":"7c62170f","chunk-752029be":"afed6636","chunk-8a32db92":"4066a477","chunk-8fdc7da2":"f956a46a","chunk-f22ec3ec":"6fd61274","chunk-fcf231e8":"fe05b516"}[t]+".js"}function u(e){if(a[e])return a[e].exports;var o=a[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,u),o.l=!0,o.exports}u.e=function(t){var e=[],o={"chunk-96de9d18":1,"chunk-26b8e59a":1,"chunk-3b588d92":1,"chunk-5c3661cf":1,"chunk-7497b3d3":1,"chunk-8a32db92":1,"chunk-8fdc7da2":1,"chunk-f22ec3ec":1,"chunk-fcf231e8":1};n[t]?e.push(n[t]):0!==n[t]&&o[t]&&e.push(n[t]=new Promise((function(e,o){for(var a="css/"+({}[t]||t)+"."+{"chunk-0bb2fd9a":"31d6cfe0","chunk-7e6ed214":"31d6cfe0","chunk-7e6f3902":"31d6cfe0","chunk-96de9d18":"b4510632","chunk-26b8e59a":"1fccb755","chunk-2d22216c":"31d6cfe0","chunk-3b588d92":"52f862ee","chunk-5c3661cf":"14989874","chunk-7497b3d3":"e92b46c2","chunk-752029be":"31d6cfe0","chunk-8a32db92":"a1b65c2d","chunk-8fdc7da2":"a818d4c7","chunk-f22ec3ec":"b1a90639","chunk-fcf231e8":"432b5373"}[t]+".css",c=u.p+a,r=document.getElementsByTagName("link"),s=0;s<r.length;s++){var i=r[s],d=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(d===a||d===c))return e()}var p=document.getElementsByTagName("style");for(s=0;s<p.length;s++){i=p[s],d=i.getAttribute("data-href");if(d===a||d===c)return e()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=e,m.onerror=function(e){var a=e&&e.target&&e.target.src||c,r=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=a,delete n[t],m.parentNode.removeChild(m),o(r)},m.href=c;var f=document.getElementsByTagName("head")[0];f.appendChild(m)})).then((function(){n[t]=0})));var a=c[t];if(0!==a)if(a)e.push(a[2]);else{var r=new Promise((function(e,o){a=c[t]=[e,o]}));e.push(a[2]=r);var i,d=document.createElement("script");d.charset="utf-8",d.timeout=120,u.nc&&d.setAttribute("nonce",u.nc),d.src=s(t);var p=new Error;i=function(e){d.onerror=d.onload=null,clearTimeout(m);var o=c[t];if(0!==o){if(o){var a=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;p.message="Loading chunk "+t+" failed.\n("+a+": "+n+")",p.name="ChunkLoadError",p.type=a,p.request=n,o[1](p)}c[t]=void 0}};var m=setTimeout((function(){i({type:"timeout",target:d})}),12e4);d.onerror=d.onload=i,document.head.appendChild(d)}return Promise.all(e)},u.m=t,u.c=a,u.d=function(t,e,o){u.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},u.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},u.t=function(t,e){if(1&e&&(t=u(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(u.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)u.d(o,a,function(e){return t[e]}.bind(null,a));return o},u.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return u.d(e,"a",e),e},u.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},u.p="",u.oe=function(t){throw console.error(t),t};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],d=i.push.bind(i);i.push=e,i=i.slice();for(var p=0;p<i.length;p++)e(i[p]);var m=d;r.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"56d7":function(t,e,o){"use strict";o.r(e);o("4de4"),o("e260"),o("e6cf"),o("cca6"),o("a79d");var a=o("2b0e"),n=o("bc3a"),c=o.n(n),r=o("a7fe"),s=o.n(r),u=o("9062"),i=o.n(u),d=o("6d3b"),p=o("8343"),m=o("5dc8"),f=o("d17a"),h=o("f5af"),l=o.n(h),g=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("Loading",{attrs:{active:t.status.isLoading},on:{"update:active":function(e){return t.$set(t.status,"isLoading",e)}}}),o("router-view")],1)},v=[],M=o("5530"),I=o("2f62"),b={computed:Object(M["a"])({},Object(I["c"])(["status"]))},O=b,_=(o("5c0b"),o("2877")),D=Object(_["a"])(O,g,v,!1,null,null,null),E=D.exports,L=(o("d3b7"),o("8c4f"));a["default"].use(L["a"]);var A=[{path:"/",component:function(){return o.e("chunk-f22ec3ec").then(o.bind(null,"88e9"))},children:[{path:"/",name:"Home",component:function(){return o.e("chunk-7497b3d3").then(o.bind(null,"ec5a"))}},{path:"about",name:"About",component:function(){return o.e("chunk-3b588d92").then(o.bind(null,"9cbb"))}},{path:"products",name:"Products",component:function(){return o.e("chunk-5c3661cf").then(o.bind(null,"ed84"))}},{path:"/products/:productId",name:"ProductDetail",component:function(){return o.e("chunk-8a32db92").then(o.bind(null,"5356"))}},{path:"/cart",name:"Cart",component:function(){return o.e("chunk-8fdc7da2").then(o.bind(null,"62b3"))}},{path:"/consumerform",name:"ConsumerForm",component:function(){return Promise.all([o.e("chunk-0bb2fd9a"),o.e("chunk-96de9d18")]).then(o.bind(null,"0a4a"))}},{path:"/consumerorder/:orderId",name:"ConsumerOrder",component:function(){return o.e("chunk-2d22216c").then(o.bind(null,"ccb8"))}},{path:"/login",name:"Login",component:function(){return o.e("chunk-26b8e59a").then(o.bind(null,"ac5b"))}}]},{path:"/admin",component:function(){return o.e("chunk-fcf231e8").then(o.bind(null,"df1d"))},children:[{path:"productsList",name:"ProductsList",meta:{requiresAuth:!0},component:function(){return Promise.all([o.e("chunk-0bb2fd9a"),o.e("chunk-7e6f3902")]).then(o.bind(null,"9129"))}},{path:"orders",name:"OrderList",meta:{requiresAuth:!0},component:function(){return o.e("chunk-752029be").then(o.bind(null,"91af"))}},{path:"coupons",name:"CouponList",meta:{requiresAuth:!0},component:function(){return Promise.all([o.e("chunk-0bb2fd9a"),o.e("chunk-7e6ed214")]).then(o.bind(null,"83c9"))}}]}],C=new L["a"]({routes:A,linkActiveClass:"active"}),S=C,k=(o("4160"),o("a434"),o("159b"),o("2909")),T={namespaced:!0,state:{messages:[]},actions:{updateMessage:function(t,e){var o=e.message,a=e.status,n=Math.floor(new Date/1e3);t.commit("PUSH_MESSAGE",{message:o,status:a,timestamp:n}),t.dispatch("removeMessageWithTiming",n)},removeMessage:function(t,e){t.commit("REMOVE_MESSAGE",e)},removeMessageWithTiming:function(t,e){var o=Object(k["a"])(t.state.messages);setTimeout((function(){o.forEach((function(o,a){o.timestamp===e&&t.commit("REMOVE_MESSAGE",a)}))}),2e3)}},mutations:{PUSH_MESSAGE:function(t,e){t.messages.push(e)},REMOVE_MESSAGE:function(t,e){t.messages.splice(e,1)}},getters:{messages:function(t){return t.messages}}},P=(o("99af"),{namespaced:!0,state:{carts:{},cartLength:0,isShowCart:!1},actions:{getCart:function(t){var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("aimer","/cart");c.a.get(e).then((function(e){e.data.success&&(t.commit("CART",e.data.data),t.commit("CART_LENGTH",e.data.data.carts.length))}))},addCart:function(t,e){var o=e.id,a=e.qty,n=void 0===a?1:a,r="".concat("https://vue-course-api.hexschool.io","/api/").concat("aimer","/cart"),s={product_id:o,qty:n};t.commit("ITEM_LOADING_ID",o,{root:!0}),c.a.post(r,{data:s}).then((function(e){e.data.success?(t.dispatch("getCart"),t.dispatch("showCart"),t.dispatch("alertMessageModules/updateMessage",{message:e.data.message,status:"success"},{root:!0})):t.dispatch("alertMessageModules/updateMessage",{message:e.data.message,status:"success"},{root:!0}),t.commit("ITEM_LOADING_ID","",{root:!0})}))},removeCart:function(t,e){var o="".concat("https://vue-course-api.hexschool.io","/api/").concat("aimer","/cart/").concat(e);t.commit("ITEM_LOADING_ID",e,{root:!0}),c.a.delete(o).then((function(e){t.dispatch("getCart"),t.dispatch("alertMessageModules/updateMessage",{message:e.data.message,status:"warning"},{root:!0}),t.commit("ITEM_LOADING_ID","",{root:!0})}))},showCart:function(t){t.commit("IS_SHOW_CART",!0),setTimeout((function(){t.commit("IS_SHOW_CART",!1)}),3e3)}},mutations:{CART:function(t,e){t.carts=e},CART_LENGTH:function(t,e){t.cartLength=e},IS_SHOW_CART:function(t,e){t.isShowCart=e}},getters:{carts:function(t){return t.carts},cartLength:function(t){return t.cartLength},isShowCart:function(t){return t.isShowCart}}}),R=(o("c975"),o("d81d"),o("96cf"),o("1da1")),N=o("1157"),G=o.n(N),y={namespaced:!0,state:{product:{},productId:"",productList:[],tempProduct:{},filterProducts:[],categories:[],recommendProducts:[]},actions:{getProductList:function(t,e){var o=e.isFront,a=e.page,n=void 0===a?1:a,r="".concat("https://vue-course-api.hexschool.io","/api/").concat("aimer","/admin/products?page=").concat(n);o&&(r="".concat("https://vue-course-api.hexschool.io","/api/").concat("aimer","/products/all")),t.commit("IS_LOADING",!0,{root:!0}),c.a.get(r).then((function(e){e.data.success&&(t.commit("PRODUCT_LIST",e.data.products),o?(t.commit("CATEGORIES"),t.commit("FILTER_PRODUCTS")):t.commit("PAGE",e.data.pagination,{root:!0}))})),t.commit("IS_LOADING",!1,{root:!0})},getProduct:function(t){var e=t.state.productId,o="".concat("https://vue-course-api.hexschool.io","/api/").concat("aimer","/product/").concat(e);t.commit("IS_LOADING",!0,{root:!0}),c.a.get(o).then(function(){var e=Object(R["a"])(regeneratorRuntime.mark((function e(o){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:o.data.success&&(t.commit("PRODUCT",o.data.product),t.commit("IS_LOADING",!1,{root:!0}),t.commit("RECOMMEND_PRODUCTS",o.data.product.category));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},updataProduct:function(t,e){var o=t.state.tempProduct,a="post",n="".concat("https://vue-course-api.hexschool.io","/api/").concat("aimer","/admin/product");e||(a="put",n="".concat("https://vue-course-api.hexschool.io","/api/").concat("aimer","/admin/product/").concat(o.id)),t.commit("ITEM_LOADING_ID",!0,{root:!0}),c.a[a](n,{data:o}).then((function(e){e.data.success?(t.dispatch("getProductList",{isFront:!1}),t.dispatch("alertMessageModules/updateMessage",{message:e.data.message,status:"success"},{root:!0})):t.dispatch("alertMessageModules/updateMessage",{message:e.data.message,status:"danger"},{root:!0}),t.commit("ITEM_LOADING_ID","",{root:!0}),G()("#updataModal").modal("hide")}))},delProduct:function(t){var e=t.state.tempProduct.id,o="".concat("https://vue-course-api.hexschool.io","/api/").concat("aimer","/admin/product/").concat(e);t.commit("ITEM_LOADING_ID",!0,{root:!0}),c.a.delete(o).then((function(e){e.data.success?(t.dispatch("getProductList",{isFront:!1}),t.dispatch("alertMessageModules/updateMessage",{message:e.data.message,status:"success"},{root:!0})):t.dispatch("alertMessageModules/updateMessage",{message:e.data.message,status:"danger"},{root:!0}),t.commit("ITEM_LOADING_ID","",{root:!0}),G()("#delModal").modal("hide")}))}},mutations:{PRODUCT:function(t,e){t.product=e},PRODUCT_LIST:function(t,e){t.productList=e},CATEGORIES:function(t){t.categories=t.productList.map((function(t){return t.category})).filter((function(t,e,o){return o.indexOf(t)===e}))},FILTER_PRODUCTS:function(t){t.filterProducts=t.productList.filter((function(t){return t.is_enabled}))},PRODUCT_ID:function(t,e){t.productId=e},RECOMMEND_PRODUCTS:function(t,e){t.recommendProducts=t.filterProducts.filter((function(o){return o.category===e&&o.id!==t.productId}))}},getters:{product:function(t){return t.product},productList:function(t){return t.productList},categories:function(t){return t.categories},filterProducts:function(t){return t.filterProducts},tempProduct:function(t){return t.tempProduct},productId:function(t){return t.productId},recommendProducts:function(t){return t.recommendProducts}}},w={namespaced:!0,state:{favorites:[],favoriteLength:0},actions:{getFavorite:function(t){var e=JSON.parse(localStorage.getItem("favoriteData"))||[];t.commit("FAVORITES",e),t.commit("FAVORITE_LENGTH")},addFavorite:function(t,e){t.commit("ADD_FAVORITE",e),localStorage.setItem("favoriteData",JSON.stringify(t.state.favorites)),t.dispatch("alertMessageModules/updateMessage",{message:"已加入收藏夾",status:"success"},{root:!0}),t.dispatch("getFavorite")},removeFavorite:function(t,e){var o=e.id,a=e.isDeleteAll,n=void 0!==a&&a;n?(localStorage.removeItem("favoriteData"),G()("#delFavoriteModal").modal("hide")):(t.commit("REMOVE_FAVORITE",o),localStorage.setItem("favoriteData",JSON.stringify(t.state.favorites))),t.dispatch("alertMessageModules/updateMessage",{message:"已刪除收藏",status:"warning"},{root:!0}),t.dispatch("getFavorite")}},mutations:{FAVORITES:function(t,e){t.favorites=e},FAVORITE_LENGTH:function(t){t.favoriteLength=t.favorites.length},REMOVE_FAVORITE:function(t,e){var o=t.favorites.map((function(t){return t.id})).indexOf(e);t.favorites.splice(o,1)},ADD_FAVORITE:function(t,e){t.favorites.push(e)}},getters:{favorites:function(t){return t.favorites},favoriteLength:function(t){return t.favoriteLength}}},x={namespaced:!0,state:{coupons:[],tempCoupon:{},couponCode:""},actions:{getCoupons:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o="".concat("https://vue-course-api.hexschool.io","/api/").concat("aimer","/admin/coupons?page=").concat(e);t.commit("IS_LOADING",!0,{root:!0}),c.a.get(o).then((function(e){e.data.success&&(t.commit("COUPONS",e.data.coupons),t.commit("PAGE",e.data.pagination,{root:!0}),t.commit("IS_LOADING",!1,{root:!0}))}))},updataCoupon:function(t,e){var o=t.state.tempCoupon,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("aimer","/admin/coupon"),n="post";e||(a="".concat("https://vue-course-api.hexschool.io","/api/").concat("aimer","/admin/coupon/").concat(o.id),n="put"),t.commit("ITEM_LOADING_ID",!0,{root:!0}),o.due_date=Math.floor(new Date(o.due_date)/1e3),c.a[n](a,{data:o}).then((function(e){e.data.success?(t.dispatch("getCoupons"),t.dispatch("alertMessageModules/updateMessage",{message:e.data.message,status:"success"},{root:!0})):t.dispatch("alertMessageModules/updateMessage",{message:e.data.message,status:"success"},{root:!0}),t.commit("ITEM_LOADING_ID","",{root:!0}),G()("#addModal").modal("hide")}))},delCoupon:function(t){var e=t.state.tempCoupon.id,o="".concat("https://vue-course-api.hexschool.io","/api/").concat("aimer","/admin/coupon/").concat(e);t.commit("ITEM_LOADING_ID",!0,{root:!0}),c.a.delete(o).then((function(e){e.data.success?(t.dispatch("getCoupons"),t.dispatch("alertMessageModules/updateMessage",{message:e.data.message,status:"success"},{root:!0})):t.dispatch("alertMessageModules/updateMessage",{message:e.data.message,status:"danger"},{root:!0}),t.commit("ITEM_LOADING_ID","",{root:!0}),G()("#delModal").modal("hide")}))},useCouponCode:function(t){var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("aimer","/coupon"),o={code:t.state.couponCode};c.a.post(e,{data:o}).then((function(e){e.data.success?(t.dispatch("cartModules/getCart",null,{root:!0}),t.dispatch("alertMessageModules/updateMessage",{message:e.data.message,status:"success"},{root:!0})):t.dispatch("alertMessageModules/updateMessage",{message:e.data.message,status:"danger"},{root:!0})}))}},mutations:{COUPONS:function(t,e){t.coupons=e},COUPON_CODE:function(t,e){t.couponCode=e},DUE_DATE_FORMAT:function(t,e){var o=new Date(1e3*e),a=o.getFullYear(),n=o.getMonth()<10?"0".concat(o.getMonth()+1):o.getMonth()+1,c=o.getDate()<10?"0".concat(o.getDate()):o.getDate();t.tempCoupon.due_date="".concat(a,"-").concat(n,"-").concat(c)}},getters:{coupons:function(t){return t.coupons},tempCoupon:function(t){return t.tempCoupon},couponCode:function(t){return t.couponCode}}},F={namespaced:!0,state:{order:{user:{}},orders:[],orderId:""},actions:{getOrderList:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o="".concat("https://vue-course-api.hexschool.io","/api/").concat("aimer","/admin/orders?page=").concat(e);t.commit("IS_LOADING",!0,{root:!0}),c.a.get(o).then((function(e){e.data.success?(t.commit("ORDERS",e.data.orders),t.commit("PAGE",e.data.pagination,{root:!0})):t.dispatch("alertMessageModules/updateMessage",{message:e.data.message,status:"success"},{root:!0}),t.commit("IS_LOADING",!1,{root:!0})}))},getOrder:function(t){var e=t.state.orderId,o="".concat("https://vue-course-api.hexschool.io","/api/").concat("aimer","/order/").concat(e);t.commit("IS_LOADING",!0,{root:!0}),c.a.get(o).then((function(e){e.data.success&&(t.commit("ORDER",e.data.order),t.commit("IS_LOADING",!1,{root:!0}))}))},payOrder:function(t){var e=t.state.order.id,o="".concat("https://vue-course-api.hexschool.io","/api/").concat("aimer","/pay/").concat(e);t.commit("IS_LOADING",!0,{root:!0}),c.a.post(o).then((function(e){e.data.success&&(t.dispatch("getOrder"),t.commit("IS_LOADING",!1,{root:!0}),t.dispatch("alertMessageModules/updateMessage",{message:e.data.message,status:"success"},{root:!0}))}))}},mutations:{ORDER:function(t,e){t.order=e},ORDERS:function(t,e){t.orders=e},ORDER_ID:function(t,e){t.orderId=e}},getters:{order:function(t){return t.order},orders:function(t){return t.orders},orderId:function(t){return t.orderId}}};a["default"].use(I["a"]);var j=new I["a"].Store({state:{page:{},status:{isLoading:!1,itemLodingId:""}},actions:{},mutations:{PAGE:function(t,e){t.page=e},IS_LOADING:function(t,e){t.status.isLoading=e},ITEM_LOADING_ID:function(t,e){t.status.itemLodingId=e}},getters:{page:function(t){return t.page},status:function(t){return t.status}},modules:{alertMessageModules:T,cartModules:P,productModules:y,favoriteModules:w,couponModules:x,orderModules:F}});o("4989"),o("e40d");a["default"].prototype.$bus=new a["default"];o("a9e3"),o("b680"),o("ac1f"),o("5319");var U=function(t){if(t){var e=Number(t);return"$ ".concat(e.toFixed(0).replace(/./g,(function(t,e,o){var a=e&&"."!==t&&(o.length-e)%3===0?", ".concat(t).replace(/\s/g,""):t;return a})))}return"$ 0"},V=function(t){var e=new Date(1e3*t),o=e.getFullYear(),a=e.getMonth()+1;a=a<10?"0".concat(a):a;var n=e.getDate()<10?"0".concat(e.getDate()):e.getDate();return"".concat(o,"/").concat(a,"/").concat(n)};o("e829");a["default"].config.productionTip=!1,a["default"].use(s.a,c.a),c.a.defaults.withCredentials=!0,a["default"].component("Loading",i.a),a["default"].filter("currency",U),a["default"].filter("date",V),l.a.init({once:!0,duration:1e3}),new a["default"]({router:S,store:j,render:function(t){return t(E)}}).$mount("#app"),d["a"].use([p["a"],m["a"],f["a"]]),S.beforeEach((function(t,e,o){if(t.meta.requiresAuth){var a="".concat("https://vue-course-api.hexschool.io","/api/user/check");c.a.post(a).then((function(t){t.data.success?o():o({name:"Login"})}))}else o()}))},"5c0b":function(t,e,o){"use strict";var a=o("9c0c"),n=o.n(a);n.a},"9c0c":function(t,e,o){}});
//# sourceMappingURL=app.70263900.js.map