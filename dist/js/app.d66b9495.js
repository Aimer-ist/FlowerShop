(function(t){function e(e){for(var o,n,s=e[0],u=e[1],i=e[2],d=0,p=[];d<s.length;d++)n=s[d],Object.prototype.hasOwnProperty.call(c,n)&&c[n]&&p.push(c[n][0]),c[n]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(t[o]=u[o]);f&&f(e);while(p.length)p.shift()();return r.push.apply(r,i||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],o=!0,n=1;n<a.length;n++){var s=a[n];0!==c[s]&&(o=!1)}o&&(r.splice(e--,1),t=u(u.s=a[0]))}return t}var o={},n={app:0},c={app:0},r=[];function s(t){return u.p+"js/"+({}[t]||t)+"."+{"chunk-094f33ac":"5bcd78c8","chunk-0bb2fd9a":"cf36c09e","chunk-25c4192f":"d468583c","chunk-7e6ed214":"f0c0acdf","chunk-7e6f3902":"90f13932","chunk-2d0fd13a":"9c950314","chunk-2d22216c":"598e261b","chunk-2ebffaae":"21e08aea","chunk-3fd82d8e":"f8e5cbf5","chunk-40325a68":"7fa0f310","chunk-4bfc308e":"3c96e496","chunk-5cb2600a":"a2eabf4e","chunk-5fe939a7":"5f805c10","chunk-752029be":"dc2f60ab"}[t]+".js"}function u(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,u),a.l=!0,a.exports}u.e=function(t){var e=[],a={"chunk-094f33ac":1,"chunk-25c4192f":1,"chunk-2d0fd13a":1,"chunk-2ebffaae":1,"chunk-3fd82d8e":1,"chunk-40325a68":1,"chunk-4bfc308e":1,"chunk-5cb2600a":1,"chunk-5fe939a7":1};n[t]?e.push(n[t]):0!==n[t]&&a[t]&&e.push(n[t]=new Promise((function(e,a){for(var o="css/"+({}[t]||t)+"."+{"chunk-094f33ac":"e0f0a6b7","chunk-0bb2fd9a":"31d6cfe0","chunk-25c4192f":"d63f3e31","chunk-7e6ed214":"31d6cfe0","chunk-7e6f3902":"31d6cfe0","chunk-2d0fd13a":"bbb8c4c7","chunk-2d22216c":"31d6cfe0","chunk-2ebffaae":"0e4d03d3","chunk-3fd82d8e":"e6eba841","chunk-40325a68":"33d8d9f7","chunk-4bfc308e":"cec0a17e","chunk-5cb2600a":"aac41d9f","chunk-5fe939a7":"48b081bf","chunk-752029be":"31d6cfe0"}[t]+".css",c=u.p+o,r=document.getElementsByTagName("link"),s=0;s<r.length;s++){var i=r[s],d=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(d===o||d===c))return e()}var p=document.getElementsByTagName("style");for(s=0;s<p.length;s++){i=p[s],d=i.getAttribute("data-href");if(d===o||d===c)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var o=e&&e.target&&e.target.src||c,r=new Error("Loading CSS chunk "+t+" failed.\n("+o+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=o,delete n[t],f.parentNode.removeChild(f),a(r)},f.href=c;var m=document.getElementsByTagName("head")[0];m.appendChild(f)})).then((function(){n[t]=0})));var o=c[t];if(0!==o)if(o)e.push(o[2]);else{var r=new Promise((function(e,a){o=c[t]=[e,a]}));e.push(o[2]=r);var i,d=document.createElement("script");d.charset="utf-8",d.timeout=120,u.nc&&d.setAttribute("nonce",u.nc),d.src=s(t);var p=new Error;i=function(e){d.onerror=d.onload=null,clearTimeout(f);var a=c[t];if(0!==a){if(a){var o=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;p.message="Loading chunk "+t+" failed.\n("+o+": "+n+")",p.name="ChunkLoadError",p.type=o,p.request=n,a[1](p)}c[t]=void 0}};var f=setTimeout((function(){i({type:"timeout",target:d})}),12e4);d.onerror=d.onload=i,document.head.appendChild(d)}return Promise.all(e)},u.m=t,u.c=o,u.d=function(t,e,a){u.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},u.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},u.t=function(t,e){if(1&e&&(t=u(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(u.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)u.d(a,o,function(e){return t[e]}.bind(null,o));return a},u.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return u.d(e,"a",e),e},u.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},u.p="",u.oe=function(t){throw console.error(t),t};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],d=i.push.bind(i);i.push=e,i=i.slice();for(var p=0;p<i.length;p++)e(i[p]);var f=d;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);a("4de4"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var o=a("2b0e"),n=a("bc3a"),c=a.n(n),r=a("a7fe"),s=a.n(r),u=a("9062"),i=a.n(u),d=a("6d3b"),p=a("8343"),f=a("5dc8"),m=a("d17a"),h=a("f5af"),l=a.n(h),g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("Loading",{attrs:{active:t.status.isLoading},on:{"update:active":function(e){return t.$set(t.status,"isLoading",e)}}}),a("router-view")],1)},v=[],M=a("5530"),I=a("2f62"),b={computed:Object(M["a"])({},Object(I["c"])(["status"]))},O=b,_=(a("5c0b"),a("2877")),D=Object(_["a"])(O,g,v,!1,null,null,null),E=D.exports,L=(a("d3b7"),a("8c4f"));o["default"].use(L["a"]);var A=[{path:"*",redirect:"/"},{path:"/",component:function(){return a.e("chunk-094f33ac").then(a.bind(null,"88e9"))},children:[{path:"/",name:"Home",component:function(){return a.e("chunk-2ebffaae").then(a.bind(null,"ec5a"))}},{path:"about",name:"About",component:function(){return a.e("chunk-5fe939a7").then(a.bind(null,"9cbb"))}},{path:"products",name:"Products",component:function(){return a.e("chunk-40325a68").then(a.bind(null,"ed84"))}},{path:"/products/:productId",name:"ProductDetail",component:function(){return a.e("chunk-2d0fd13a").then(a.bind(null,"5356"))}},{path:"/cart",name:"Cart",component:function(){return a.e("chunk-3fd82d8e").then(a.bind(null,"62b3"))}},{path:"/consumerform",name:"ConsumerForm",component:function(){return Promise.all([a.e("chunk-0bb2fd9a"),a.e("chunk-25c4192f")]).then(a.bind(null,"0a4a"))}},{path:"/consumerorder/:orderId",name:"ConsumerOrder",component:function(){return a.e("chunk-2d22216c").then(a.bind(null,"ccb8"))}},{path:"/login",name:"Login",component:function(){return a.e("chunk-5cb2600a").then(a.bind(null,"ac5b"))}}]},{path:"/admin",component:function(){return a.e("chunk-4bfc308e").then(a.bind(null,"df1d"))},children:[{path:"productsList",name:"ProductsList",meta:{requiresAuth:!0},component:function(){return Promise.all([a.e("chunk-0bb2fd9a"),a.e("chunk-7e6f3902")]).then(a.bind(null,"9129"))}},{path:"orders",name:"OrderList",meta:{requiresAuth:!0},component:function(){return a.e("chunk-752029be").then(a.bind(null,"91af"))}},{path:"coupons",name:"CouponList",meta:{requiresAuth:!0},component:function(){return Promise.all([a.e("chunk-0bb2fd9a"),a.e("chunk-7e6ed214")]).then(a.bind(null,"83c9"))}}]}],C=new L["a"]({routes:A,linkActiveClass:"active"}),S=C,k=(a("4160"),a("a434"),a("159b"),a("2909")),T={namespaced:!0,state:{messages:[]},actions:{updateMessage:function(t,e){var a=e.message,o=e.status,n=Math.floor(new Date/1e3);t.commit("PUSH_MESSAGE",{message:a,status:o,timestamp:n}),t.dispatch("removeMessageWithTiming",n)},removeMessage:function(t,e){t.commit("REMOVE_MESSAGE",e)},removeMessageWithTiming:function(t,e){var a=Object(k["a"])(t.state.messages);setTimeout((function(){a.forEach((function(a,o){a.timestamp===e&&t.commit("REMOVE_MESSAGE",o)}))}),2e3)}},mutations:{PUSH_MESSAGE:function(t,e){t.messages.push(e)},REMOVE_MESSAGE:function(t,e){t.messages.splice(e,1)}},getters:{messages:function(t){return t.messages}}},P=(a("99af"),{namespaced:!0,state:{carts:{},cartLength:0,isShowCart:!1},actions:{getCart:function(t){var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("aimer","/cart");c.a.get(e).then((function(e){e.data.success&&(t.commit("CART",e.data.data),t.commit("CART_LENGTH",e.data.data.carts.length))}))},addCart:function(t,e){var a=e.id,o=e.qty,n=void 0===o?1:o,r="".concat("https://vue-course-api.hexschool.io","/api/").concat("aimer","/cart"),s={product_id:a,qty:n};t.commit("ITEM_LOADING_ID",a,{root:!0}),c.a.post(r,{data:s}).then((function(e){e.data.success?(t.dispatch("getCart"),t.dispatch("showCart"),t.dispatch("alertMessageModules/updateMessage",{message:e.data.message,status:"success"},{root:!0})):t.dispatch("alertMessageModules/updateMessage",{message:e.data.message,status:"success"},{root:!0}),t.commit("ITEM_LOADING_ID","",{root:!0})}))},removeCart:function(t,e){var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("aimer","/cart/").concat(e);t.commit("ITEM_LOADING_ID",e,{root:!0}),c.a.delete(a).then((function(e){t.dispatch("getCart"),t.dispatch("alertMessageModules/updateMessage",{message:e.data.message,status:"warning"},{root:!0}),t.commit("ITEM_LOADING_ID","",{root:!0})}))},showCart:function(t){t.commit("IS_SHOW_CART",!0),setTimeout((function(){t.commit("IS_SHOW_CART",!1)}),3e3)}},mutations:{CART:function(t,e){t.carts=e},CART_LENGTH:function(t,e){t.cartLength=e},IS_SHOW_CART:function(t,e){t.isShowCart=e}},getters:{carts:function(t){return t.carts},cartLength:function(t){return t.cartLength},isShowCart:function(t){return t.isShowCart}}}),R=(a("c975"),a("d81d"),a("96cf"),a("1da1")),N=a("1157"),G=a.n(N),y={namespaced:!0,state:{product:{},productId:"",productList:[],tempProduct:{},filterProducts:[],categories:[],recommendProducts:[]},actions:{getProductList:function(t,e){var a=e.isFront,o=e.page,n=void 0===o?1:o,r="".concat("https://vue-course-api.hexschool.io","/api/").concat("aimer","/admin/products?page=").concat(n);a&&(r="".concat("https://vue-course-api.hexschool.io","/api/").concat("aimer","/products/all")),t.commit("IS_LOADING",!0,{root:!0}),c.a.get(r).then((function(e){e.data.success&&(t.commit("PRODUCT_LIST",e.data.products),a?(t.commit("CATEGORIES"),t.commit("FILTER_PRODUCTS")):t.commit("PAGE",e.data.pagination,{root:!0}))})),t.commit("IS_LOADING",!1,{root:!0})},getProduct:function(t){var e=t.state.productId,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("aimer","/product/").concat(e);t.commit("IS_LOADING",!0,{root:!0}),c.a.get(a).then(function(){var e=Object(R["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a.data.success&&(t.commit("PRODUCT",a.data.product),t.commit("IS_LOADING",!1,{root:!0}),t.commit("RECOMMEND_PRODUCTS",a.data.product.category));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},updataProduct:function(t,e){var a=t.state.tempProduct,o="post",n="".concat("https://vue-course-api.hexschool.io","/api/").concat("aimer","/admin/product");e||(o="put",n="".concat("https://vue-course-api.hexschool.io","/api/").concat("aimer","/admin/product/").concat(a.id)),t.commit("ITEM_LOADING_ID",!0,{root:!0}),c.a[o](n,{data:a}).then((function(e){e.data.success?(t.dispatch("getProductList",{isFront:!1}),t.dispatch("alertMessageModules/updateMessage",{message:e.data.message,status:"success"},{root:!0})):t.dispatch("alertMessageModules/updateMessage",{message:e.data.message,status:"danger"},{root:!0}),t.commit("ITEM_LOADING_ID","",{root:!0}),G()("#updataModal").modal("hide")}))},delProduct:function(t){var e=t.state.tempProduct.id,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("aimer","/admin/product/").concat(e);t.commit("ITEM_LOADING_ID",!0,{root:!0}),c.a.delete(a).then((function(e){e.data.success?(t.dispatch("getProductList",{isFront:!1}),t.dispatch("alertMessageModules/updateMessage",{message:e.data.message,status:"success"},{root:!0})):t.dispatch("alertMessageModules/updateMessage",{message:e.data.message,status:"danger"},{root:!0}),t.commit("ITEM_LOADING_ID","",{root:!0}),G()("#delModal").modal("hide")}))}},mutations:{PRODUCT:function(t,e){t.product=e},PRODUCT_LIST:function(t,e){t.productList=e},CATEGORIES:function(t){t.categories=t.productList.map((function(t){return t.category})).filter((function(t,e,a){return a.indexOf(t)===e}))},FILTER_PRODUCTS:function(t){t.filterProducts=t.productList.filter((function(t){return t.is_enabled}))},PRODUCT_ID:function(t,e){t.productId=e},RECOMMEND_PRODUCTS:function(t,e){t.recommendProducts=t.filterProducts.filter((function(a){return a.category===e&&a.id!==t.productId}))}},getters:{product:function(t){return t.product},productList:function(t){return t.productList},categories:function(t){return t.categories},filterProducts:function(t){return t.filterProducts},tempProduct:function(t){return t.tempProduct},productId:function(t){return t.productId},recommendProducts:function(t){return t.recommendProducts}}},w={namespaced:!0,state:{favorites:[],favoriteLength:0},actions:{getFavorite:function(t){var e=JSON.parse(localStorage.getItem("favoriteData"))||[];t.commit("FAVORITES",e),t.commit("FAVORITE_LENGTH")},addFavorite:function(t,e){t.commit("ADD_FAVORITE",e),localStorage.setItem("favoriteData",JSON.stringify(t.state.favorites)),t.dispatch("alertMessageModules/updateMessage",{message:"已加入收藏夾",status:"success"},{root:!0}),t.dispatch("getFavorite")},removeFavorite:function(t,e){var a=e.id,o=e.isDeleteAll,n=void 0!==o&&o;n?(localStorage.removeItem("favoriteData"),G()("#delFavoriteModal").modal("hide")):(t.commit("REMOVE_FAVORITE",a),localStorage.setItem("favoriteData",JSON.stringify(t.state.favorites))),t.dispatch("alertMessageModules/updateMessage",{message:"已刪除收藏",status:"warning"},{root:!0}),t.dispatch("getFavorite")}},mutations:{FAVORITES:function(t,e){t.favorites=e},FAVORITE_LENGTH:function(t){t.favoriteLength=t.favorites.length},REMOVE_FAVORITE:function(t,e){var a=t.favorites.map((function(t){return t.id})).indexOf(e);t.favorites.splice(a,1)},ADD_FAVORITE:function(t,e){t.favorites.push(e)}},getters:{favorites:function(t){return t.favorites},favoriteLength:function(t){return t.favoriteLength}}},x={namespaced:!0,state:{coupons:[],tempCoupon:{},couponCode:""},actions:{getCoupons:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("aimer","/admin/coupons?page=").concat(e);t.commit("IS_LOADING",!0,{root:!0}),c.a.get(a).then((function(e){e.data.success&&(t.commit("COUPONS",e.data.coupons),t.commit("PAGE",e.data.pagination,{root:!0}),t.commit("IS_LOADING",!1,{root:!0}))}))},updataCoupon:function(t,e){var a=t.state.tempCoupon,o="".concat("https://vue-course-api.hexschool.io","/api/").concat("aimer","/admin/coupon"),n="post";e||(o="".concat("https://vue-course-api.hexschool.io","/api/").concat("aimer","/admin/coupon/").concat(a.id),n="put"),t.commit("ITEM_LOADING_ID",!0,{root:!0}),a.due_date=Math.floor(new Date(a.due_date)/1e3),c.a[n](o,{data:a}).then((function(e){e.data.success?(t.dispatch("getCoupons"),t.dispatch("alertMessageModules/updateMessage",{message:e.data.message,status:"success"},{root:!0})):t.dispatch("alertMessageModules/updateMessage",{message:e.data.message,status:"success"},{root:!0}),t.commit("ITEM_LOADING_ID","",{root:!0}),G()("#addModal").modal("hide")}))},delCoupon:function(t){var e=t.state.tempCoupon.id,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("aimer","/admin/coupon/").concat(e);t.commit("ITEM_LOADING_ID",!0,{root:!0}),c.a.delete(a).then((function(e){e.data.success?(t.dispatch("getCoupons"),t.dispatch("alertMessageModules/updateMessage",{message:e.data.message,status:"success"},{root:!0})):t.dispatch("alertMessageModules/updateMessage",{message:e.data.message,status:"danger"},{root:!0}),t.commit("ITEM_LOADING_ID","",{root:!0}),G()("#delModal").modal("hide")}))},useCouponCode:function(t){var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("aimer","/coupon"),a={code:t.state.couponCode};c.a.post(e,{data:a}).then((function(e){e.data.success?(t.dispatch("cartModules/getCart",null,{root:!0}),t.dispatch("alertMessageModules/updateMessage",{message:e.data.message,status:"success"},{root:!0})):t.dispatch("alertMessageModules/updateMessage",{message:e.data.message,status:"danger"},{root:!0})}))}},mutations:{COUPONS:function(t,e){t.coupons=e},COUPON_CODE:function(t,e){t.couponCode=e},DUE_DATE_FORMAT:function(t,e){var a=new Date(1e3*e),o=a.getFullYear(),n=a.getMonth()<10?"0".concat(a.getMonth()+1):a.getMonth()+1,c=a.getDate()<10?"0".concat(a.getDate()):a.getDate();t.tempCoupon.due_date="".concat(o,"-").concat(n,"-").concat(c)}},getters:{coupons:function(t){return t.coupons},tempCoupon:function(t){return t.tempCoupon},couponCode:function(t){return t.couponCode}}},F={namespaced:!0,state:{order:{user:{}},orders:[],orderId:""},actions:{getOrderList:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("aimer","/admin/orders?page=").concat(e);t.commit("IS_LOADING",!0,{root:!0}),c.a.get(a).then((function(e){e.data.success?(t.commit("ORDERS",e.data.orders),t.commit("PAGE",e.data.pagination,{root:!0})):t.dispatch("alertMessageModules/updateMessage",{message:e.data.message,status:"success"},{root:!0}),t.commit("IS_LOADING",!1,{root:!0})}))},getOrder:function(t){var e=t.state.orderId,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("aimer","/order/").concat(e);t.commit("IS_LOADING",!0,{root:!0}),c.a.get(a).then((function(e){e.data.success&&(t.commit("ORDER",e.data.order),t.commit("IS_LOADING",!1,{root:!0}))}))},payOrder:function(t){var e=t.state.order.id,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("aimer","/pay/").concat(e);t.commit("IS_LOADING",!0,{root:!0}),c.a.post(a).then((function(e){e.data.success&&(t.dispatch("getOrder"),t.commit("IS_LOADING",!1,{root:!0}),t.dispatch("alertMessageModules/updateMessage",{message:e.data.message,status:"success"},{root:!0}))}))}},mutations:{ORDER:function(t,e){t.order=e},ORDERS:function(t,e){t.orders=e},ORDER_ID:function(t,e){t.orderId=e}},getters:{order:function(t){return t.order},orders:function(t){return t.orders},orderId:function(t){return t.orderId}}};o["default"].use(I["a"]);var j=new I["a"].Store({state:{page:{},status:{isLoading:!1,itemLodingId:""}},actions:{},mutations:{PAGE:function(t,e){t.page=e},IS_LOADING:function(t,e){t.status.isLoading=e},ITEM_LOADING_ID:function(t,e){t.status.itemLodingId=e}},getters:{page:function(t){return t.page},status:function(t){return t.status}},modules:{alertMessageModules:T,cartModules:P,productModules:y,favoriteModules:w,couponModules:x,orderModules:F}});a("4989"),a("e40d");o["default"].prototype.$bus=new o["default"];a("a9e3"),a("b680"),a("ac1f"),a("5319");var U=function(t){if(t){var e=Number(t);return"$ ".concat(e.toFixed(0).replace(/./g,(function(t,e,a){var o=e&&"."!==t&&(a.length-e)%3===0?", ".concat(t).replace(/\s/g,""):t;return o})))}return"$ 0"},V=function(t){var e=new Date(1e3*t),a=e.getFullYear(),o=e.getMonth()+1;o=o<10?"0".concat(o):o;var n=e.getDate()<10?"0".concat(e.getDate()):e.getDate();return"".concat(a,"/").concat(o,"/").concat(n)};a("e829");o["default"].config.productionTip=!1,o["default"].use(s.a,c.a),c.a.defaults.withCredentials=!0,o["default"].component("Loading",i.a),o["default"].filter("currency",U),o["default"].filter("date",V),l.a.init({once:!0,duration:1e3}),new o["default"]({router:S,store:j,render:function(t){return t(E)}}).$mount("#app"),d["a"].use([p["a"],f["a"],m["a"]]),S.beforeEach((function(t,e,a){if(t.meta.requiresAuth){var o="".concat("https://vue-course-api.hexschool.io","/api/user/check");c.a.post(o).then((function(t){t.data.success?a():a({name:"Login"})}))}else a()}))},"5c0b":function(t,e,a){"use strict";var o=a("9c0c"),n=a.n(o);n.a},"9c0c":function(t,e,a){}});
//# sourceMappingURL=app.d66b9495.js.map