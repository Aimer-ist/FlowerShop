(function(t){function e(e){for(var a,n,r=e[0],u=e[1],i=e[2],d=0,p=[];d<r.length;d++)n=r[d],Object.prototype.hasOwnProperty.call(c,n)&&c[n]&&p.push(c[n][0]),c[n]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(t[a]=u[a]);m&&m(e);while(p.length)p.shift()();return s.push.apply(s,i||[]),o()}function o(){for(var t,e=0;e<s.length;e++){for(var o=s[e],a=!0,n=1;n<o.length;n++){var r=o[n];0!==c[r]&&(a=!1)}a&&(s.splice(e--,1),t=u(u.s=o[0]))}return t}var a={},n={app:0},c={app:0},s=[];function r(t){return u.p+"js/"+({}[t]||t)+"."+{"chunk-129ad4ec":"b4b693fa","chunk-2989cc01":"4b56079e","chunk-637b891c":"f741693c","chunk-74f8fdd8":"9fcaf6f7","chunk-7713e545":"cd2b7d20","chunk-7c194489":"3904a5fd","chunk-7e6d72d7":"99a345de","chunk-7e6ded05":"3cd9c126","chunk-a4e3cd82":"d27f7c3e","chunk-b7b8df46":"f95caef3","chunk-f94ba882":"bcc31349"}[t]+".js"}function u(e){if(a[e])return a[e].exports;var o=a[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,u),o.l=!0,o.exports}u.e=function(t){var e=[],o={"chunk-129ad4ec":1,"chunk-2989cc01":1,"chunk-637b891c":1,"chunk-7713e545":1,"chunk-7c194489":1,"chunk-a4e3cd82":1,"chunk-b7b8df46":1,"chunk-f94ba882":1};n[t]?e.push(n[t]):0!==n[t]&&o[t]&&e.push(n[t]=new Promise((function(e,o){for(var a="css/"+({}[t]||t)+"."+{"chunk-129ad4ec":"5565931e","chunk-2989cc01":"2b22f3b6","chunk-637b891c":"e3c81f69","chunk-74f8fdd8":"31d6cfe0","chunk-7713e545":"f5db94a2","chunk-7c194489":"53b8be54","chunk-7e6d72d7":"31d6cfe0","chunk-7e6ded05":"31d6cfe0","chunk-a4e3cd82":"4965231e","chunk-b7b8df46":"1406f193","chunk-f94ba882":"3b7ab7ab"}[t]+".css",c=u.p+a,s=document.getElementsByTagName("link"),r=0;r<s.length;r++){var i=s[r],d=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(d===a||d===c))return e()}var p=document.getElementsByTagName("style");for(r=0;r<p.length;r++){i=p[r],d=i.getAttribute("data-href");if(d===a||d===c)return e()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=e,m.onerror=function(e){var a=e&&e.target&&e.target.src||c,s=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=a,delete n[t],m.parentNode.removeChild(m),o(s)},m.href=c;var f=document.getElementsByTagName("head")[0];f.appendChild(m)})).then((function(){n[t]=0})));var a=c[t];if(0!==a)if(a)e.push(a[2]);else{var s=new Promise((function(e,o){a=c[t]=[e,o]}));e.push(a[2]=s);var i,d=document.createElement("script");d.charset="utf-8",d.timeout=120,u.nc&&d.setAttribute("nonce",u.nc),d.src=r(t);var p=new Error;i=function(e){d.onerror=d.onload=null,clearTimeout(m);var o=c[t];if(0!==o){if(o){var a=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;p.message="Loading chunk "+t+" failed.\n("+a+": "+n+")",p.name="ChunkLoadError",p.type=a,p.request=n,o[1](p)}c[t]=void 0}};var m=setTimeout((function(){i({type:"timeout",target:d})}),12e4);d.onerror=d.onload=i,document.head.appendChild(d)}return Promise.all(e)},u.m=t,u.c=a,u.d=function(t,e,o){u.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},u.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},u.t=function(t,e){if(1&e&&(t=u(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(u.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)u.d(o,a,function(e){return t[e]}.bind(null,a));return o},u.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return u.d(e,"a",e),e},u.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},u.p="/",u.oe=function(t){throw console.error(t),t};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],d=i.push.bind(i);i.push=e,i=i.slice();for(var p=0;p<i.length;p++)e(i[p]);var m=d;s.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"56d7":function(t,e,o){"use strict";o.r(e);o("4de4"),o("e260"),o("e6cf"),o("cca6"),o("a79d");var a=o("2b0e"),n=o("bc3a"),c=o.n(n),s=o("a7fe"),r=o.n(s),u=o("9062"),i=o.n(u),d=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("Loading",{attrs:{active:t.status.isLoading},on:{"update:active":function(e){return t.$set(t.status,"isLoading",e)}}}),o("router-view")],1)},p=[],m=o("5530"),f=o("2f62"),h={computed:Object(m["a"])({},Object(f["c"])(["status"]))},l=h,g=(o("5c0b"),o("2877")),v=Object(g["a"])(l,d,p,!1,null,null,null),I=v.exports,M=(o("d3b7"),o("8c4f"));a["a"].use(M["a"]);var O=[{path:"/",component:function(){return o.e("chunk-a4e3cd82").then(o.bind(null,"88e9"))},children:[{path:"/",name:"Products",component:function(){return o.e("chunk-7c194489").then(o.bind(null,"ed84"))}},{path:"/products/:productId",name:"ProductDetail",component:function(){return o.e("chunk-129ad4ec").then(o.bind(null,"5356"))}},{path:"/cart",name:"Cart",component:function(){return o.e("chunk-b7b8df46").then(o.bind(null,"62b3"))}},{path:"/consumerform",name:"ConsumerForm",component:function(){return o.e("chunk-637b891c").then(o.bind(null,"0a4a"))}},{path:"/consumerorder/:orderId",name:"ConsumerOrder",component:function(){return o.e("chunk-2989cc01").then(o.bind(null,"ccb8"))}},{path:"/login",name:"Login",component:function(){return o.e("chunk-7713e545").then(o.bind(null,"ac5b"))}}]},{path:"/admin",component:function(){return o.e("chunk-f94ba882").then(o.bind(null,"df1d"))},children:[{path:"",name:"ProductsList",meta:{requiresAuth:!0},component:function(){return o.e("chunk-7e6d72d7").then(o.bind(null,"541f"))}},{path:"orders",name:"OrderList",meta:{requiresAuth:!0},component:function(){return o.e("chunk-74f8fdd8").then(o.bind(null,"d598"))}},{path:"coupons",name:"CouponList",meta:{requiresAuth:!0},component:function(){return o.e("chunk-7e6ded05").then(o.bind(null,"64ae"))}}]}],_=new M["a"]({routes:O}),b=_,D=(o("4160"),o("a434"),o("159b"),o("2909")),E={namespaced:!0,state:{messages:[]},actions:{updateMessage:function(t,e){var o=e.message,a=e.status,n=Math.floor(new Date/1e3);t.commit("PUSH_MESSAGE",{message:o,status:a,timestamp:n}),t.dispatch("removeMessageWithTiming",n)},removeMessage:function(t,e){t.commit("REMOVE_MESSAGE",e)},removeMessageWithTiming:function(t,e){var o=Object(D["a"])(t.state.messages);setTimeout((function(){o.forEach((function(o,a){o.timestamp===e&&t.commit("REMOVE_MESSAGE",a)}))}),2e3)}},mutations:{PUSH_MESSAGE:function(t,e){t.messages.push(e)},REMOVE_MESSAGE:function(t,e){t.messages.splice(e,1)}},getters:{messages:function(t){return t.messages}}},L=(o("99af"),{namespaced:!0,state:{carts:{},cartLength:0,isShowCart:!1},actions:{getCart:function(t){var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("aimer","/cart");c.a.get(e).then((function(e){e.data.success&&(t.commit("CART",e.data.data),t.commit("CART_LENGTH",e.data.data.carts.length))}))},addCart:function(t,e){var o=e.id,a=e.qty,n=void 0===a?1:a,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("aimer","/cart"),r={product_id:o,qty:n};t.commit("ITEM_LOADING_ID",o,{root:!0}),c.a.post(s,{data:r}).then((function(e){e.data.success?(t.dispatch("getCart"),t.dispatch("showCart"),t.dispatch("alertMessageModules/updateMessage",{message:e.data.message,status:"success"},{root:!0})):t.dispatch("alertMessageModules/updateMessage",{message:e.data.message,status:"success"},{root:!0}),t.commit("ITEM_LOADING_ID","",{root:!0})}))},removeCart:function(t,e){var o="".concat("https://vue-course-api.hexschool.io","/api/").concat("aimer","/cart/").concat(e);t.commit("ITEM_LOADING_ID",e,{root:!0}),c.a.delete(o).then((function(e){t.dispatch("getCart"),t.dispatch("alertMessageModules/updateMessage",{message:e.data.message,status:"warning"},{root:!0}),t.commit("ITEM_LOADING_ID","",{root:!0})}))},showCart:function(t){t.commit("IS_SHOW_CART",!0),setTimeout((function(){t.commit("IS_SHOW_CART",!1)}),3e3)}},mutations:{CART:function(t,e){t.carts=e},CART_LENGTH:function(t,e){t.cartLength=e},IS_SHOW_CART:function(t,e){t.isShowCart=e}},getters:{carts:function(t){return t.carts},cartLength:function(t){return t.cartLength},isShowCart:function(t){return t.isShowCart}}}),S=(o("c975"),o("d81d"),o("1157")),A=o.n(S),C={namespaced:!0,state:{product:{},productId:"",productList:{},tempProduct:{},filterProducts:{},categories:{},similarProducts:{}},actions:{getProductList:function(t,e){var o=e.isFront,a=e.page,n=void 0===a?1:a,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("aimer","/admin/products?page=").concat(n);o&&(s="".concat("https://vue-course-api.hexschool.io","/api/").concat("aimer","/products/all")),t.commit("IS_LOADING",!0,{root:!0}),c.a.get(s).then((function(e){e.data.success&&(t.commit("PRODUCT_LIST",e.data.products),o?(t.commit("CATEGORIES"),t.commit("FILTER_PRODUCTS")):t.commit("PAGE",e.data.pagination,{root:!0}),t.commit("IS_LOADING",!1,{root:!0}))}))},getProduct:function(t){var e=t.state.productId,o="".concat("https://vue-course-api.hexschool.io","/api/").concat("aimer","/product/").concat(e);t.commit("IS_LOADING",!0,{root:!0}),c.a.get(o).then((function(e){e.data.success&&(t.commit("PRODUCT",e.data.product),t.commit("IS_LOADING",!1,{root:!0}),t.dispatch("getProductList",{isFront:!0}),setTimeout((function(){t.commit("SIMILAR_PRODUCTS",e.data.product.category)}),500))}))},updataProduct:function(t,e){var o=t.state.tempProduct,a="post",n="".concat("https://vue-course-api.hexschool.io","/api/").concat("aimer","/admin/product");e&&(a="put",n="".concat("https://vue-course-api.hexschool.io","/api/").concat("aimer","/admin/product/").concat(o.id)),t.commit("ITEM_LOADING_ID",!0,{root:!0}),c.a[a](n,{data:o}).then((function(e){e.data.success?(t.dispatch("getProductList",{isFront:!1}),t.dispatch("alertMessageModules/updateMessage",{message:e.data.message,status:"success"},{root:!0})):t.dispatch("alertMessageModules/updateMessage",{message:e.data.message,status:"danger"},{root:!0}),t.commit("ITEM_LOADING_ID","",{root:!0}),A()("#updataModal").modal("hide")}))},delProduct:function(t){var e=t.state.tempProduct.id,o="".concat("https://vue-course-api.hexschool.io","/api/").concat("aimer","/admin/product/").concat(e);t.commit("ITEM_LOADING_ID",!0,{root:!0}),c.a.delete(o).then((function(e){e.data.success?(t.dispatch("getProductList",{isFront:!1}),t.dispatch("alertMessageModules/updateMessage",{message:e.data.message,status:"success"},{root:!0})):t.dispatch("alertMessageModules/updateMessage",{message:e.data.message,status:"danger"},{root:!0}),t.commit("ITEM_LOADING_ID","",{root:!0}),A()("#delModal").modal("hide")}))},switchCategoryStatus:function(t,e){t.commit("FILTER_PRODUCTS",e)}},mutations:{PRODUCT:function(t,e){t.product=e},PRODUCT_LIST:function(t,e){t.productList=e},CATEGORIES:function(t){t.categories=t.productList.map((function(t){return t.category})).filter((function(t,e,o){return o.indexOf(t)===e}))},FILTER_PRODUCTS:function(t,e){var o=t.productList.filter((function(t){return t.is_enabled}));t.filterProducts=e?o.filter((function(t){return t.category===e})):o},PRODUCT_ID:function(t,e){t.productId=e},SIMILAR_PRODUCTS:function(t,e){var o=t.productList.filter((function(t){return t.is_enabled}));t.similarProducts=o.filter((function(o){return o.category===e&&o.id!==t.productId}))}},getters:{product:function(t){return t.product},productList:function(t){return t.productList},categories:function(t){return t.categories},filterProducts:function(t){return t.filterProducts},tempProduct:function(t){return t.tempProduct},productId:function(t){return t.productId},similarProducts:function(t){return t.similarProducts}}},T={namespaced:!0,state:{favorites:[],favoriteLength:0},actions:{getFavorite:function(t){var e=JSON.parse(localStorage.getItem("favoriteData"))||[];t.commit("FAVORITES",e),t.commit("FAVORITE_LENGTH")},addFavorite:function(t,e){t.commit("ADD_FAVORITE",e),localStorage.setItem("favoriteData",JSON.stringify(t.state.favorites)),t.dispatch("alertMessageModules/updateMessage",{message:"已加入收藏夾",status:"success"},{root:!0}),t.dispatch("getFavorite")},removeFavorite:function(t,e){var o=e.id,a=e.isDeleteAll,n=void 0!==a&&a;n?(localStorage.removeItem("favoriteData"),A()("#delFavoriteModal").modal("hide")):(t.commit("REMOVE_FAVORITE",o),localStorage.setItem("favoriteData",JSON.stringify(t.state.favorites))),t.dispatch("alertMessageModules/updateMessage",{message:"已刪除收藏",status:"warning"},{root:!0}),t.dispatch("getFavorite")}},mutations:{FAVORITES:function(t,e){t.favorites=e},FAVORITE_LENGTH:function(t){t.favoriteLength=t.favorites.length},REMOVE_FAVORITE:function(t,e){var o=t.favorites.map((function(t){return t.id})).indexOf(e);t.favorites.splice(o,1)},ADD_FAVORITE:function(t,e){t.favorites.push(e)}},getters:{favorites:function(t){return t.favorites},favoriteLength:function(t){return t.favoriteLength}}},P={namespaced:!0,state:{coupons:[],tempCoupon:{},couponCode:""},actions:{getCoupons:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o="".concat("https://vue-course-api.hexschool.io","/api/").concat("aimer","/admin/coupons?page=").concat(e);t.commit("IS_LOADING",!0,{root:!0}),c.a.get(o).then((function(e){e.data.success&&(t.commit("COUPONS",e.data.coupons),t.commit("PAGE",e.data.pagination,{root:!0}),t.commit("IS_LOADING",!1,{root:!0}))}))},updataCoupon:function(t,e){var o=t.state.tempCoupon,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("aimer","/admin/coupon"),n="post";e||(a="".concat("https://vue-course-api.hexschool.io","/api/").concat("aimer","/admin/coupon/").concat(o.id),n="put"),t.commit("ITEM_LOADING_ID",!0,{root:!0}),o.due_date=Math.floor(new Date(o.due_date)/1e3),c.a[n](a,{data:o}).then((function(e){e.data.success?(t.dispatch("getCoupons"),t.dispatch("alertMessageModules/updateMessage",{message:e.data.message,status:"success"},{root:!0})):t.dispatch("alertMessageModules/updateMessage",{message:e.data.message,status:"success"},{root:!0}),t.commit("ITEM_LOADING_ID","",{root:!0}),A()("#addModal").modal("hide")}))},delCoupon:function(t){var e=t.state.tempCoupon.id,o="".concat("https://vue-course-api.hexschool.io","/api/").concat("aimer","/admin/coupon/").concat(e);t.commit("ITEM_LOADING_ID",!0,{root:!0}),c.a.delete(o).then((function(e){e.data.success?(t.dispatch("getCoupons"),t.dispatch("alertMessageModules/updateMessage",{message:e.data.message,status:"success"},{root:!0})):t.dispatch("alertMessageModules/updateMessage",{message:e.data.message,status:"danger"},{root:!0}),t.commit("ITEM_LOADING_ID","",{root:!0}),A()("#delModal").modal("hide")}))},useCouponCode:function(t){var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("aimer","/coupon"),o={code:t.state.couponCode};c.a.post(e,{data:o}).then((function(e){e.data.success?(t.dispatch("cartModules/getCart",null,{root:!0}),t.dispatch("alertMessageModules/updateMessage",{message:e.data.message,status:"success"},{root:!0})):t.dispatch("alertMessageModules/updateMessage",{message:e.data.message,status:"danger"},{root:!0})}))}},mutations:{COUPONS:function(t,e){t.coupons=e},COUPON_CODE:function(t,e){t.couponCode=e},DUE_DATE_FORMAT:function(t,e){var o=new Date(1e3*e),a=o.getFullYear(),n=o.getMonth()<10?"0".concat(o.getMonth()+1):o.getMonth()+1,c=o.getDate()<10?"0".concat(o.getDate()):o.getDate();t.tempCoupon.due_date="".concat(a,"-").concat(n,"-").concat(c)}},getters:{coupons:function(t){return t.coupons},tempCoupon:function(t){return t.tempCoupon},couponCode:function(t){return t.couponCode}}},k={namespaced:!0,state:{order:{user:{}},orders:[],orderId:""},actions:{getOrderList:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o="".concat("https://vue-course-api.hexschool.io","/api/").concat("aimer","/admin/orders?page=").concat(e);t.commit("IS_LOADING",!0,{root:!0}),c.a.get(o).then((function(e){e.data.success?(t.commit("ORDERS",e.data.orders),t.commit("PAGE",e.data.pagination,{root:!0})):t.dispatch("alertMessageModules/updateMessage",{message:e.data.message,status:"success"},{root:!0}),t.commit("IS_LOADING",!1,{root:!0})}))},getOrder:function(t){var e=t.state.orderId,o="".concat("https://vue-course-api.hexschool.io","/api/").concat("aimer","/order/").concat(e);t.commit("IS_LOADING",!0,{root:!0}),c.a.get(o).then((function(e){e.data.success&&(t.commit("ORDER",e.data.order),t.commit("IS_LOADING",!1,{root:!0}))}))},payOrder:function(t){var e=t.state.order.id,o="".concat("https://vue-course-api.hexschool.io","/api/").concat("aimer","/pay/").concat(e);t.commit("IS_LOADING",!0,{root:!0}),c.a.post(o).then((function(e){e.data.success&&(t.dispatch("getOrder"),t.commit("IS_LOADING",!1,{root:!0}),t.dispatch("alertMessageModules/updateMessage",{message:e.data.message,status:"success"},{root:!0}))}))}},mutations:{ORDER:function(t,e){t.order=e},ORDERS:function(t,e){t.orders=e},ORDER_ID:function(t,e){t.orderId=e}},getters:{order:function(t){return t.order},orders:function(t){return t.orders},orderId:function(t){return t.orderId}}};a["a"].use(f["a"]);var R=new f["a"].Store({state:{page:{},status:{isLoading:!1,itemLodingId:""}},actions:{},mutations:{PAGE:function(t,e){t.page=e},IS_LOADING:function(t,e){t.status.isLoading=e},ITEM_LOADING_ID:function(t,e){t.status.itemLodingId=e}},getters:{page:function(t){return t.page},status:function(t){return t.status}},modules:{alertMessageModules:E,cartModules:L,productModules:C,favoriteModules:T,couponModules:P,orderModules:k}});o("4989"),o("e40d");a["a"].prototype.$bus=new a["a"];o("a9e3"),o("b680"),o("ac1f"),o("5319");var N=function(t){if(t){var e=Number(t);return"$ ".concat(e.toFixed(0).replace(/./g,(function(t,e,o){var a=e&&"."!==t&&(o.length-e)%3===0?", ".concat(t).replace(/\s/g,""):t;return a})))}return"$ 0"},y=function(t){var e=new Date(1e3*t),o=e.getFullYear(),a=e.getMonth()+1;a=a<10?"0".concat(a):a;var n=e.getDate()<10?"0".concat(e.getDate()):e.getDate();return"".concat(o,"/").concat(a,"/").concat(n)};a["a"].config.productionTip=!1,a["a"].use(r.a,c.a),c.a.defaults.withCredentials=!0,a["a"].component("Loading",i.a),a["a"].filter("currency",N),a["a"].filter("date",y),new a["a"]({router:b,store:R,render:function(t){return t(I)}}).$mount("#app"),b.beforeEach((function(t,e,o){if(t.meta.requiresAuth){var a="".concat("https://vue-course-api.hexschool.io","/api/user/check");c.a.post(a).then((function(t){t.data.success?o():o({name:"Login"})}))}else o()}))},"5c0b":function(t,e,o){"use strict";var a=o("9c0c"),n=o.n(a);n.a},"9c0c":function(t,e,o){}});
//# sourceMappingURL=app.8fa467d1.js.map